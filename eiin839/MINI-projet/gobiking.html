<!DOCTYPE html>

<html lang="en" dir="ltr" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title> LET'S GO BIKING'</title>
    <link rel="stylesheet" href="style.css">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
    <script src="C:/Users/Utilisateur/Downloads/leaflet-routing-machine-3.2.12/leaflet-routing-machine-3.2.12/dist/leaflet-routing-machine.js"></script>
    <link rel="stylesheet" href="C:/Users/Utilisateur/Downloads/leaflet-routing-machine-3.2.12/leaflet-routing-machine-3.2.12/dist/leaflet-routing-machine.css" />

</head>
<body>
    <label for="origin">Origin Address </label> <br />
    <input type="text" name="origin" id="origin" /> <br />

    <label for="destination">Destination Address </label> <br />
    <input type="text" name="destination" id="destination" /> <br />

    <button type="button" value="Let's go" name="valider" onclick="sendAdress()"> GO </button>
    <!-- div id="map" style="width:100%; height:100%"></div-->
    <div id="divcarte">

    </div>
    <script src="equipments.geojson" type="text/javascript"></script>
    <script type="text/javascript">

        var map = L.map('divcarte');

        var tuiles = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        var control = L.Routing.control({
            waypoints: [
                L.latLng(57.74, 11.94),
                L.latLng(57.6792, 11.949)
            ],
            routeWhileDragging: true,
            show: true,
            autoRoute: true
        }).addTo(map);

        control.on('routeselected', function (e) {
            L.geoJson(equipments, { onEachFeature: onEach }).addTo(map);
        });

        function onEach(feature, layer) {
            layer.bindPopup(feature.properties.instruction);
        }
    </script>
</body>
</html>